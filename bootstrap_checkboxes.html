<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
        crossorigin="anonymous">

    <title>Hello, bootstrap!</title>
</head>

<body>
    <!-- <ul>
        <li>
            <input type="checkbox" id="select_all" /> Selecct All</li>
        <li>
            <input class="checkbox" type="checkbox" name="check[]"> This is Item 1</li>
        <li>
            <input class="checkbox" type="checkbox" name="check[]"> This is Item 2</li>
        <li>
            <input class="checkbox" type="checkbox" name="check[]"> This is Item 3</li>
        <li>
            <input class="checkbox" type="checkbox" name="check[]"> This is Item 4</li>
        <li>
            <input class="checkbox" type="checkbox" name="check[]"> This is Item 5</li>
        <li>
            <input class="checkbox" type="checkbox" name="check[]"> This is Item 6</li>
    </ul> -->
    <div class="card">
        <div class="card-body">
            <div class="btn-group-toggle" data-toggle="buttons">
                <label class="btn btn-primary checkbox" name="check[]">
                    <input type="checkbox" autocomplete="off"> check1
                </label>
                <label class="btn btn-primary checkbox" name="check[]">
                    <input type="checkbox" autocomplete="off"> check2
                </label>
                <label class="btn btn-primary checkbox" name="check[]">
                    <input type="checkbox" autocomplete="off"> check3
                </label>
            </div>
        </div>
        <div class="card-header">
            <label>
                <input type="checkbox" autocomplete="off" id="select_all"> check all
            </label>
        </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
        crossorigin="anonymous"></script>
    <script>
        //select all checkboxes
        $("#select_all").change(function () {  //"select all" change 
            $(".checkbox").prop("checked", $(this).prop("checked")); //change all ".checkbox" checked status
            if ($(this).prop("checked") === true) {
                $(".checkbox").addClass("active");
            } else {
                $(".checkbox").removeClass("active");
            }
        });

        //".checkbox" change 
        $(".checkbox").change(function () {
            console.log($(this).hasClass("active"));
            console.log($(this).prop("checked"));
            //uncheck "select all", if one of the listed checkbox item is unchecked
            if (false == $(this).hasClass("active")) { //if this item is unchecked
                $("#select_all").prop("checked", false); //change "select all" checked status to false
            }
            if (false == $(this).prop("checked")) { //if this item is unchecked
                $("#select_all").prop("checked", false); //change "select all" checked status to false
            }
            //check "select all" if all checkbox items are checked
            if ($(".checkbox:checked").length == $(".checkbox").length) {
                $("#select_all").prop("checked", true);
            }
        });
    </script>
</body>

</html>